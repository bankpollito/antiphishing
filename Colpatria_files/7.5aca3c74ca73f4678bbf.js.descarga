(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{X3zk:function(e,t,n){"use strict";n.r(t),n.d(t,"LoginModule",function(){return re});var r=n("ofXK"),i=n("tyNb"),o=n("mrSG"),a=n("3Pt+"),s=n("cHQg"),c=n("+9iy"),l=n("UFf+"),u=n("AytR"),d={loginFailed:l.a.ERROR_PAGES.LOGIN.MAIN+l.a.ERROR_PAGES.LOGIN.LOGIN_FAILED,signUpLink:u.a.baseUrlMicroFront+u.a.microFrontEnds.jump+l.a.ROUTES.VALIDATE_NEW_USER,helpSignInLink:l.a.ROUTES.HELP_SIGNIN},p=n("tk/3"),m=n("lJxs"),h=n("vkgz"),g=function(){function e(){}return e.prototype.getItem=function(e){return("; "+document.cookie).split("; "+e+"=").pop().split(";").shift()},e.prototype.removeItem=function(e){document.cookie=e+"=; expires="+this.expireIn(-1)+"; path=/"},e.prototype.setItem=function(e,t){document.cookie=e+"="+t+"; expires="+this.expireIn(7)+"; path=/"},e.prototype.expireIn=function(e){var t=new Date;return t.setTime(t.getTime()+24*e*60*60*1e3),t.toUTCString()},e}(),E=function(){function e(e){this.window=e,this.key="",this.storage=this.window.sessionStorage||new g}return Object.defineProperty(e.prototype,"data",{get:function(){var e=this.storage.getItem(this.key);if(!e)return{};try{return JSON.parse(e)||{}}catch(t){return{}}},set:function(e){this.updateData(e)},enumerable:!1,configurable:!0}),e.prototype.removeData=function(){this.storage.removeItem(this.key)},e.prototype.setProperty=function(e,t){var n=t;this.key=e,this.data=n},e.prototype.updateData=function(e){this.storage.setItem(this.key,e instanceof Object?JSON.stringify(e):e)},e}(),f=n("BQLa"),S=n("fXoL"),R=function(e){function t(){var t=e.call(this,new f.a)||this;return t.PROPERTIES={USER:"us",USER_TOKEN:"ut",REMEMBER_USERNAME:"rememberUser",USER_NAME:"userName",LAST_LOGIN_DATE:"lastLoginDate"},t.key=t.PROPERTIES.USER_TOKEN,t}return Object(o.b)(t,e),Object.defineProperty(t.prototype,"isAuthenticated",{get:function(){var e=this.user.token;return!!(e&&e.access_token&&e.refresh_token)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rememberUser",{get:function(){return this.user.rememberUser},set:function(e){this.setProperty(this.PROPERTIES.REMEMBER_USERNAME,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"token",{get:function(){return this.user.token},set:function(e){this.setProperty(this.PROPERTIES.USER_TOKEN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"us",{set:function(e){this.setProperty(this.PROPERTIES.USER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"user",{get:function(){return this.data},set:function(e){!e&&this.user.rememberUser?this.updateData({userName:this.userName,rememberUser:!0}):e?this.updateData(e):this.removeData()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userName",{get:function(){return this.user.userName},set:function(e){this.setProperty(this.PROPERTIES.USER_NAME,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastLoginDate",{set:function(e){this.setProperty(this.PROPERTIES.LAST_LOGIN_DATE,e)},enumerable:!1,configurable:!0}),t.\u0275prov=S["\u0275\u0275defineInjectable"]({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}(E),P=n("IwLx"),v=n("O8ob"),O=n("4sSD"),I=n("IKyK"),_=n("thr8"),y=function(){function e(e,t,n,r,i){this.http=e,this.userService=t,this.sessionStorageService=n,this.fingerprint=r,this.analyticsIdService=i}return e.prototype.loginPassport=function(t,n,r){var i,o=this,a=(new p.e).append(c.a.PARAMS.FORCE,this.getForce(r)),s=new p.d(((i={})[c.a.PROPERTIES.PASSPORT_KEY]=n,i[I.a.FINGER_PRINT]=this.fingerprint.data,i[I.a.ANALYTICS_ID]=this.analyticsIdService.getAnalyticsId(),i));return this.http.post(e.URL_AUTHORIZATION,t,{headers:s,params:a}).pipe(Object(m.a)(function(e){return e}),Object(h.a)(function(e){o.storePassportToken(e),o.userService.lastLoginDate=e.lastLoginDate}))},e.prototype.login=function(e,t){var n=this,r={};return t&&(r={params:(new p.e).append("force","true")}),r=this.addRequestHeaders(r),this.http.post(u.a.baseUrl+"/elysium/login",e,r).pipe(Object(m.a)(function(e){return e[s.h.PROPERTIES.EXPIRES_AT]=s.k.calculateExpiresAt(e.expires_in),delete e[s.h.PROPERTIES.DOCUMENT],delete e[s.h.PROPERTIES.DOCUMENT_TYPE],n.userService.token=e,n.userService.lastLoginDate=e.lastLoginDate,e}))},e.prototype.validateRedirectTo=function(t){e.VALID_URL_REGEX.test(t)?P.a.redirect(t):P.a.redirect(v.a.REDIRECT_TO.LOGIN)},e.prototype.storePassportToken=function(e){e[s.h.PROPERTIES.EXPIRES_AT]=s.k.calculateExpiresAt(e.expires_in),this.sessionStorageService.put(s.h.PROPERTIES.EXCHANGE_CODE,JSON.stringify(e)),this.sessionStorageService.remove(s.h.PROPERTIES.PASSPORT_OAUTH_KEY)},e.prototype.getForce=function(e){var t="false";return e===new URLSearchParams(u.a.passportUrlForce).get(c.a.PROPERTIES.CLIENT_ID)&&(t="true"),t},e.prototype.addRequestHeaders=function(e){var t;return Object(o.a)(Object(o.a)({},e),{headers:new p.d((t={},t[I.a.FINGER_PRINT]=this.fingerprint.data,t[I.a.ANALYTICS_ID]=this.analyticsIdService.getAnalyticsId(),t))})},e.URL_AUTHORIZATION=""+(e.URL_BASE=v.a.RESOURCES.ELYSIUM.API)+v.a.RESOURCES.ELYSIUM.AUTHORIZATION,e.URL_LOGIN=""+e.URL_BASE+v.a.RESOURCES.ELYSIUM.LOGIN,e.VALID_URL_REGEX=new RegExp("(((http|https):\\/{2})+(("+u.a.whiteUrls+")(:[0-9]+)?((\\/([~0-9a-zA-Z\\#\\+\\%@\\.\\/_-]+))?(\\?[0-9a-zA-Z\\+\\%@\\/&\\[\\];=_-]+)?)?))\\b"),e.\u0275fac=function(t){return new(t||e)(S["\u0275\u0275inject"](p.b),S["\u0275\u0275inject"](R),S["\u0275\u0275inject"](s.l),S["\u0275\u0275inject"](O.a),S["\u0275\u0275inject"](_.a))},e.\u0275prov=S["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),b=n("ADJi"),C=n("SiQq"),A=function(){function e(){}return e.setLocalItem=function(e,t){localStorage.setItem(e,t)},e.getLocalItem=function(e){return localStorage.getItem(e)},e.setSessionItem=function(e,t){sessionStorage.setItem(e,t)},e.getSessionItem=function(e){return sessionStorage.getItem(e)},e.removeSessionItem=function(e){sessionStorage.removeItem(e)},e}(),L=function(){function e(){}return e.PROPERTIES={REDIRECT_TO:"redirectTo"},e}(),N=n("+nTj"),T=n("l7X8"),M="passport_redirect_uri",x=n("r1wH"),U=n("/SLs"),k=n("LRne"),w=n("JIr8"),F=function(){function e(e,t){this.http=e,this.storageService=t,this.CHANNELS_AVAILABLES=""+v.a.RESOURCES.INSURANCES.API+v.a.RESOURCES.INSURANCES.CHANNELS_AVAILABLES}return e.prototype.getChannelsAvaliables=function(){var e,t=this,n="insurancesSelfManagedCard";return null===this.storageService.get(n)?this.http.get(this.CHANNELS_AVAILABLES,{headers:new p.d((e={"Application-Channel":"selfmanaged"},e[s.h.PROPERTIES.SKIP_AUTHORIZATION]="true",e))}).pipe(Object(m.a)(function(e){return e.data.includes("SELF_MANAGED")?(t.storageService.put(n,"true"),!0):(t.storageService.put(n,"false"),!1)}),Object(w.a)(function(){return t.storageService.put(n,"false"),Object(k.a)(!1)})):Object(k.a)("true"===this.storageService.get(n))},e.\u0275fac=function(t){return new(t||e)(S["\u0275\u0275inject"](p.b),S["\u0275\u0275inject"](s.l))},e.\u0275prov=S["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),G=n("guMV"),j=function(){function e(){this.timeout=new S.EventEmitter}return e.prototype.ngOnInit=function(){this.updateClock(this.time),this.startClock()},e.prototype.ngOnDestroy=function(){window.clearInterval(this.timer)},e.prototype.startClock=function(){var e=this;this.timer=window.setInterval(function(){e.updateClock(e.time--)},1e3)},e.prototype.updateClock=function(e){this.hours=Math.floor(e/3600),this.minutes=Math.floor(e%3600/60),this.seconds=e%60,this.minutes=this.minutes<10?"0"+this.minutes:this.minutes,this.seconds=this.seconds<10?"0"+this.seconds:this.seconds,this.clock=this.hours+" horas "+this.minutes+" min "+this.seconds+" segs",0===e&&(window.clearInterval(this.timer),this.timeout.emit(!0))},e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=S["\u0275\u0275defineComponent"]({type:e,selectors:[["auth-timer"]],inputs:{time:"time"},outputs:{timeout:"timeout"},decls:2,vars:1,consts:[[1,"timer"]],template:function(e,t){1&e&&(S["\u0275\u0275elementStart"](0,"span",0),S["\u0275\u0275text"](1),S["\u0275\u0275elementEnd"]()),2&e&&(S["\u0275\u0275advance"](1),S["\u0275\u0275textInterpolate"](t.clock))},styles:[".timer[_ngcontent-%COMP%]{display:inline-block}"]}),e}(),D=["*"],B=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=S["\u0275\u0275defineComponent"]({type:e,selectors:[["auth-external-link"]],inputs:{text:"text",link:"link"},ngContentSelectors:D,decls:4,vars:1,consts:[["target","_blank",1,"link",3,"href"],[1,"link__text","link--dotted"],["size","18","name","external-link",1,"icon--external-link"]],template:function(e,t){1&e&&(S["\u0275\u0275projectionDef"](),S["\u0275\u0275elementStart"](0,"a",0),S["\u0275\u0275elementStart"](1,"span",1),S["\u0275\u0275projection"](2),S["\u0275\u0275elementEnd"](),S["\u0275\u0275element"](3,"canvas-svg",2),S["\u0275\u0275elementEnd"]()),2&e&&S["\u0275\u0275property"]("href",t.link,S["\u0275\u0275sanitizeUrl"])},directives:[G.E],styles:[".icon--external-link[_ngcontent-%COMP%]{display:inline-block;margin-left:5px;vertical-align:text-top}"]}),e}();function V(e,t){if(1&e&&(S["\u0275\u0275elementContainerStart"](0),S["\u0275\u0275elementStart"](1,"canvas-message",33),S["\u0275\u0275elementContainerStart"](2),S["\u0275\u0275elementStart"](3,"span"),S["\u0275\u0275text"](4),S["\u0275\u0275elementEnd"](),S["\u0275\u0275element"](5,"br"),S["\u0275\u0275elementStart"](6,"a",18),S["\u0275\u0275text"](7),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementContainerEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementContainerEnd"]()),2&e){var n=S["\u0275\u0275nextContext"]();S["\u0275\u0275advance"](1),S["\u0275\u0275property"]("type","warning"),S["\u0275\u0275advance"](3),S["\u0275\u0275textInterpolate"](n.LABELS.ERRORS.INVALID_CREDENTIALS),S["\u0275\u0275advance"](2),S["\u0275\u0275property"]("routerLink",n.links.loginFailed),S["\u0275\u0275advance"](1),S["\u0275\u0275textInterpolate"](n.LABELS.LOGIN_TROUBLE)}}function H(e,t){if(1&e){var n=S["\u0275\u0275getCurrentView"]();S["\u0275\u0275elementContainerStart"](0),S["\u0275\u0275elementStart"](1,"canvas-message",33),S["\u0275\u0275elementContainerStart"](2),S["\u0275\u0275elementStart"](3,"span"),S["\u0275\u0275text"](4,"Parece que est\xe1s teniendo problemas para ingresar. Por favor espera "),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](5,"auth-timer",34),S["\u0275\u0275listener"]("timeout",function(){return S["\u0275\u0275restoreView"](n),S["\u0275\u0275nextContext"]().onErrorTimeout()}),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](6,"span"),S["\u0275\u0275text"](7," antes de intentar nuevamente."),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementContainerEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementContainerEnd"]()}if(2&e){var r=S["\u0275\u0275nextContext"]();S["\u0275\u0275advance"](1),S["\u0275\u0275property"]("type","warning"),S["\u0275\u0275advance"](4),S["\u0275\u0275property"]("time",r.errorTime)}}function K(e,t){if(1&e&&(S["\u0275\u0275elementStart"](0,"canvas-message",35),S["\u0275\u0275text"](1),S["\u0275\u0275elementEnd"]()),2&e){var n=S["\u0275\u0275nextContext"]();S["\u0275\u0275advance"](1),S["\u0275\u0275textInterpolate1"](" ",n.LABELS.ERRORS.USERNAME_VALIDATION," ")}}function z(e,t){1&e&&S["\u0275\u0275element"](0,"canvas-svg",36)}function W(e,t){if(1&e&&(S["\u0275\u0275elementStart"](0,"span"),S["\u0275\u0275text"](1),S["\u0275\u0275elementEnd"]()),2&e){var n=S["\u0275\u0275nextContext"]();S["\u0275\u0275advance"](1),S["\u0275\u0275textInterpolate"](n.LABELS.SIGN_IN)}}function Y(e,t){1&e&&(S["\u0275\u0275elementContainerStart"](0),S["\u0275\u0275elementStart"](1,"p",37),S["\u0275\u0275text"](2," \xa1Aprovecha todos los beneficios de tu "),S["\u0275\u0275elementStart"](3,"span",38),S["\u0275\u0275text"](4,"Banca Virtual"),S["\u0275\u0275elementEnd"](),S["\u0275\u0275text"](5,": haz pagos, transferencias, recargas y mucho m\xe1s! "),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementContainerEnd"]())}function q(e,t){if(1&e&&(S["\u0275\u0275element"](0,"div",39),S["\u0275\u0275elementStart"](1,"div",40),S["\u0275\u0275elementStart"](2,"auth-external-link",41),S["\u0275\u0275text"](3),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](4,"div",40),S["\u0275\u0275elementStart"](5,"auth-external-link",42),S["\u0275\u0275text"](6),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](7,"div",40),S["\u0275\u0275elementStart"](8,"auth-external-link",43),S["\u0275\u0275text"](9),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"]()),2&e){var n=S["\u0275\u0275nextContext"]();S["\u0275\u0275property"]("innerHTML",n.LABELS.IE_BROWSER_NOTIFICATION.MESSAGE,S["\u0275\u0275sanitizeHtml"]),S["\u0275\u0275advance"](3),S["\u0275\u0275textInterpolate1"](" ",n.LABELS.IE_BROWSER_NOTIFICATION.CHROME_BROWSER," "),S["\u0275\u0275advance"](3),S["\u0275\u0275textInterpolate1"](" ",n.LABELS.IE_BROWSER_NOTIFICATION.FIREFOX_BROWSER," "),S["\u0275\u0275advance"](3),S["\u0275\u0275textInterpolate1"](" ",n.LABELS.IE_BROWSER_NOTIFICATION.SAFARI_BROWSER," ")}}var J=function(e){return{visible:e}},X=function(){return{width:"100%",source:"https://cdn.agilitycms.com/scotiabank-colombia/Colpatria/digital/jump/img/oficina.svg",type:"url"}},Q=function(){function e(e,t,n,r,i,a,s,c,l,u,p,m){this.formBuilder=e,this.authService=t,this.userService=n,this.router=r,this.route=i,this.sessionService=a,this.locationService=s,this.facadeService=c,this.sessionStorageService=l,this.cookiesService=u,this.insuranceService=p,this.sessionGuard=m,this.LABELS=Object(o.a)({},C.a.APP_LABELS.LOGIN),this.links=d,this.validateFirstCredential=!1,this.BAD_REQUEST_ERROR_MESSAGE="El usuario y / o la contrase\xf1a que ingresaste no coinciden con nuestros registros.",this.VIRTUAL_BANKING="banca-virtual",this.isIE=this.facadeService.browser.isIE,this.isLoading=!1,this.passwordFocused=!1}return e.prototype.onKeydownHandler=function(){this.onSubmit()},Object.defineProperty(e.prototype,"clientId",{get:function(){try{return this.passportSignaturePayload.client_id}catch(e){return null}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"passportReferrer",{get:function(){try{return this.passportSignaturePayload.referer}catch(e){return null}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"credentials",{get:function(){return{password:this.loginForm.controls.secondCredential.value,rememberUser:this.loginForm.controls.rememberUser.value,userName:this.loginForm.controls.firstCredential.value}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoginForceUrl",{get:function(){return this.router.url===l.a.ROUTES.FORCE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"passportRedirectUri",{get:function(){try{return this.passportSignaturePayload.redirect_uri}catch(e){return null}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"passportSignaturePayload",{get:function(){return this.oauth_key_signature?this.facadeService.jwt.decode(this.oauth_key_signature):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rememberUser",{get:function(){try{return JSON.parse(A.getLocalItem(s.h.PROPERTIES.REMEMBER_USER))}catch(e){return!1}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userToken",{get:function(){return A.getSessionItem(s.h.PROPERTIES.USER_TOKEN)},enumerable:!1,configurable:!0}),e.prototype.ngOnInit=function(){this.loginForm=this.buildFormGroup(),this.initializePassportValidation()},e.prototype.ngOnDestroy=function(){this.authSubscription&&this.authSubscription.unsubscribe()},e.prototype.isFieldInvalid=function(e){var t=this.loginForm.get(e);return this.validateFirstCredential&&!t.valid&&!t.pending&&t.dirty},e.prototype.onSubmit=function(){if(this.rememberUser&&this.username&&this.isTheObfuscatedUsername(this.username,this.credentials.userName)&&this.loginForm.controls.firstCredential.setValue(this.username),this.validateFirstCredential=!0,this.loginForm.invalid||this.isLoading)return this.validateForm(),void this.ofuscate(this.credentials.userName);this.authenticate(this.credentials)},e.prototype.authenticate=function(e){var t=this.buildLoginCredentials(e);this.isLoading=!0,this.errorMessage=null,this.clearUserRenewPasswordFlag(),this.ofuscate(e.userName),this.sessionService.isPassportEnable?this.doLoginWithPassport(t):this.doLogin(t)},e.prototype.doLogin=function(e){var t=this;this.authSubscription=this.authService.login(e,this.isLoginForceUrl).subscribe(function(n){t.hasBeenRedirected(n,e)||(t.saveValidationRegistryCookie(),t.goToPrincipalJumpPage())},function(e){t.handleLoginErrors(e)})},e.prototype.doLoginWithPassport=function(e){var t=this;this.sessionStorageService.remove(s.h.PROPERTIES.USER_RENEW_PASSWORD),this.authSubscription=this.authService.loginPassport(e,this.oauth_key,this.clientId).subscribe(function(n){t.hasBeenRedirected(n,e)||(n.activeSessionsKilled?t.goToActiveSessionsKilledPage():(t.saveValidationRegistryCookie(),t.goToPassportRedirectUri(n)))},function(e){t.handleLoginErrors(e)})},e.prototype.saveValidationRegistryCookie=function(){this.cookiesService.setItem(s.h.VALIDATION_REGISTRY.COOKIE_NAME,x.a.encryptData({validation_screen_skip:!0}))},e.prototype.validateUserNameMaxlength=function(){return U.UsernameValidationService.getInstance().hasRightLength(this.loginForm.get("firstCredential").value)},e.prototype.setPasswordFocused=function(){this.passwordFocused=!this.passwordFocused},e.prototype.validateSpecialCharacter=function(e){return U.PasswordValidationService.getInstance().getNumberOfNonAlphanumericChars(e.key)<=0},e.prototype.getPasswordMaxNumberOfChars=function(){return U.LibraryParametersConfig.getInstance().getNumericParameter(U.LibraryParameterName.PASSWORD_MAX_LENGTH)},e.prototype.getUsernameMaxNumberOfChars=function(){return U.LibraryParametersConfig.getInstance().getNumericParameter(U.LibraryParameterName.USERNAME_MAX_LENGTH)},e.prototype.fieldHasError=function(e,t){var n=this.loginForm.controls[e].errors;return!!n&&n[t]},e.prototype.onErrorTimeout=function(){this.errorTime=0,this.errorMessage=null,this.isLoading=!1,this.loginForm.get("firstCredential").setValue(""),this.loginForm.get("secondCredential").setValue("")},e.prototype.getClassesForErrorPass=function(){var e=this.loginForm.get("secondCredential").value&&this.loginForm.get("secondCredential").value.length>0;return{MIN_LENGTH:{"min-length":!this.fieldHasError("secondCredential","lengthPattern")&&e},UPPER_CASE:{"upper-case":!this.fieldHasError("secondCredential","upperCasePattern")&&e},LOWER_CASE:{"lower-case":!this.fieldHasError("secondCredential","lowerCasePattern")&&e},NUMBERS:{numbers:!this.fieldHasError("secondCredential","numberPattern")&&e}}},e.prototype.validationFirstCredential=function(){return(this.isFieldInvalid("firstCredential")||this.validateFirstCredential)&&(this.fieldHasError("firstCredential","required")||this.fieldHasError("firstCredential","invalidUsername"))&&!this.isTheObfuscatedUsername(this.username,this.credentials.userName)},e.prototype.performBviRedirect=function(e,t){var n=e[c.a.PROPERTIES.REDIRECT_TO];return this.setRememberUserName(t),!(!n||this.isPassportRedirectUrl(n)||(this.authService.validateRedirectTo(n),0))},e.prototype.buildFormGroup=function(){return this.formBuilder.group({firstCredential:[null,{validators:[a.Validators.required,this.userPatternValidator.bind(this)]}],secondCredential:[null,{validators:[a.Validators.required,this.passwordPatternValidator.bind(this)]}],rememberUser:[!1,[]]})},e.prototype.buildLoginCredentials=function(e){if(this.sessionService.isPassportEnable){var t=new URLSearchParams(u.a.passportUrlForce);return{client_id:this.clientId?this.clientId:t.get(c.a.PROPERTIES.CLIENT_ID),username:e.userName,password:e.password,remember_user:e.rememberUser}}return{client_id:u.a.clientId,username:e.userName,password:e.password,remember_user:e.rememberUser}},e.prototype.cleanUrlParams=function(){var e=new URLSearchParams(u.a.passportUrlForce).get(c.a.PROPERTIES.CLIENT_ID);this.clientId===e?this.updateWindowHistory(v.a.ROUTES.FORCE):this.updateWindowHistory()},e.prototype.clearUserRenewPasswordFlag=function(){this.sessionStorageService.remove(s.h.PROPERTIES.USER_RENEW_PASSWORD)},e.prototype.goToActiveSessionsKilledPage=function(){this.router.navigate([l.a.MESSAGE_PAGES.LOGIN.MAIN+l.a.MESSAGE_PAGES.LOGIN.ACTIVE_SESSIONS_KILLED])},e.prototype.goToPassportRedirectUri=function(e){var t=e.redirectTo?e.redirectTo:this.passportRedirectUri||v.a.REDIRECT_TO.LOGIN;this.unregisterPassportApp(),t.toString().includes(this.VIRTUAL_BANKING)?this.goToPrincipalJumpPage():P.a.redirect(t)},e.prototype.goToPasswordExpiredErrorPage=function(){this.router.navigate([l.a.ERROR_PAGES.LOGIN.MAIN+l.a.ERROR_PAGES.LOGIN.PASSWORD_EXPIRED])},e.prototype.goToPrincipalJumpPage=function(){var e=this,t=this.sessionStorageService.get(T.a.KEY.ANALYTICS_PARAM),n=u.a.newDashboard?v.a.REDIRECT_TO.DASHBOARD:v.a.REDIRECT_TO.PRINCIPAL,r=this.getDeeplink(t),i=t?n+"?"+t:n;this.sessionStorageService.remove(T.a.KEY.ANALYTICS_PARAM),r?"seguros"===r?this.insuranceService.getChannelsAvaliables().subscribe(function(n){e.sessionGuard.checkTokenAvailability(e.route.snapshot).subscribe(function(){P.a.redirect(n?u.a.baseUrlMicroFront+"/integracion/seguros/solicitud?"+t:i)})},function(e){return P.a.redirect(i)}):P.a.redirect(u.a.baseUrlMicroFront+"/"+r+"?"+t):P.a.redirect(i)},e.prototype.isPassportRedirectUrl=function(e){return this.sessionService.isPassportEnable&&e===this.passportRedirectUri},e.prototype.hasBeenRedirected=function(e,t){var n=this.isPasswordExpired(e);return!(n||!this.performBviRedirect(e,t))||!!n&&(this.goToPasswordExpiredErrorPage(),!0)},e.prototype.updateWindowHistory=function(e){void 0===e&&(e=""),this.locationService.replaceState(this.locationService.path().split("?")[0]+e,"",null)},e.prototype.initializePassportValidation=function(){this.sessionService.isPassportEnable&&(this.oauth_key=this.route.snapshot.queryParamMap.get(c.a.PARAMS.OAUTH_KEY),this.setOauthKeySignature(this.route.snapshot.queryParamMap.get(c.a.PARAMS.OAUTH_KEY_SIGNATURE)),this.cleanUrlParams(),this.oauth_key_signature&&this.registerPassportApp()),this.sessionService.isPassportEnable||this.verifySession(),this.rememberUser&&(this.loginForm.controls.rememberUser.setValue(!0),this.username=A.getLocalItem(s.h.PROPERTIES.USER_NAME),this.loginForm.controls.firstCredential.setValue(this.ofuscateUsername(this.username)))},e.prototype.ofuscateUsername=function(e){for(var t="",n=e.length-4;n>0;n--)t+="\u2022";return e.substr(0,2)+t+e.substr(e.length-2,2)},e.prototype.ofuscate=function(e){this.rememberUser&&this.username&&this.username===e&&(this.username=e,this.loginForm.controls.firstCredential.setValue(this.ofuscateUsername(e)))},e.prototype.isTheObfuscatedUsername=function(e,t){return Boolean(t.includes("\u2022")&&t.length===e.length&&t.includes(e.substr(0,2))&&t.includes(e.substr(e.length-2,2)))},e.prototype.isPasswordExpired=function(e){return!!e[c.a.PROPERTIES.CHANGE_PASSWORD]},e.prototype.setOauthKeySignature=function(e){this.oauth_key_signature=e},e.prototype.verifySession=function(){null!==this.userToken&&(this.userToken.includes(L.PROPERTIES.REDIRECT_TO)?this.sessionService.closeSession():P.a.redirect(u.a.baseUrlMicroFront+u.a.microFrontEnds.jump))},e.prototype.userPatternValidator=function(e){return e.value&&!U.CredentialValidationService.getInstance().isValidUsername(e.value)?{invalidUsername:!0}:null},e.prototype.passwordPatternValidator=function(e){if(e.value){var t={};return U.PasswordValidationService.getInstance().hasValidLength(e.value)||(t.lengthPattern=!0),U.PasswordValidationService.getInstance().getNumberOfCharsMatchingList(e.value,U.UPPER_CASE_CHAR_LIST)<=0&&(t.upperCasePattern=!0),U.PasswordValidationService.getInstance().getNumberOfCharsMatchingList(e.value,U.LOWER_CASE_CHAR_LIST)<=0&&(t.lowerCasePattern=!0),U.PasswordValidationService.getInstance().getNumberOfCharsMatchingList(e.value,U.NUMERIC_CHAR_LIST)<=0&&(t.numberPattern=!0),t}return null},e.prototype.validateForm=function(){var e=this;Object.keys(this.loginForm.controls).forEach(function(t){e.loginForm.get(t).markAsTouched({onlySelf:!0})})},e.prototype.handleLoginErrors=function(e){e.status===b.a.TooManyRequest?(this.invalidLogin=!1,this.errorTime=e.error.blockedTime):e.status===b.a.Forbidden?this.handleErrorLogin(e.error):(this.handleError(e.status),this.isLoading=!1)},e.prototype.handleError=function(e){switch(e){case b.a.Conflict:break;case b.a.BadRequest:this.errorMessage=this.BAD_REQUEST_ERROR_MESSAGE,this.sessionService.isPassportEnable&&this.router.navigate([l.a.ERROR_PAGES.LOGIN.MAIN+l.a.ERROR_PAGES.LOGIN.OAUTHKEY_EXPIRED]);break;case b.a.Unauthorized:this.invalidLogin=!0;break;case b.a.NotAcceptable:this.router.navigate([l.a.ERROR_PAGES.LOGIN.MAIN+l.a.ERROR_PAGES.LOGIN.UPDATE_QUESTIONS]);break;default:this.router.navigate([l.a.ERROR_PAGES.LOGIN.MAIN+l.a.ERROR_PAGES.LOGIN.GENERIC])}},e.prototype.handleErrorLogin=function(e){switch(e.blockedType){case 2:this.router.navigate([l.a.ERROR_PAGES.LOGIN.MAIN+l.a.ERROR_PAGES.LOGIN.ATTEMPTS]);break;case 3:this.router.navigate([l.a.ERROR_PAGES.LOGIN.MAIN+l.a.ERROR_PAGES.LOGIN.BLOCKED_TRANSACTIONAL]);break;case 4:this.router.navigate([l.a.ERROR_PAGES.LOGIN.MAIN+l.a.ERROR_PAGES.LOGIN.BLOCKED_GENERIC]);break;case 5:this.router.navigate([l.a.ERROR_PAGES.LOGIN.MAIN+l.a.ERROR_PAGES.LOGIN.INACTIVE]);break;default:this.router.navigate([l.a.ERROR_PAGES.LOGIN.MAIN+l.a.ERROR_PAGES.LOGIN.GENERIC])}},e.prototype.registerPassportApp=function(){A.setSessionItem(s.h.PROPERTIES.PASSPORT_CLIENT_ID,this.clientId),A.setSessionItem(M,this.passportRedirectUri);var e=this.passportReferrer,t=this.sessionStorageService.get(s.h.PROPERTIES.SESSION_REFERRER);e&&0!==e.length&&!t&&A.setSessionItem(s.h.PROPERTIES.SESSION_REFERRER,x.a.encryptData(e))},e.prototype.setRememberUserName=function(e){this.userService.us=e.username,this.userService.rememberUser=e.remember_user,A.setLocalItem(s.h.PROPERTIES.USER_NAME,e.username),A.setLocalItem(s.h.PROPERTIES.REMEMBER_USER,Boolean(e.remember_user).toString())},e.prototype.unregisterPassportApp=function(){A.removeSessionItem(M)},e.prototype.getDeeplink=function(e){return new URL("https://foo.com?"+e).searchParams.get(T.a.KEY.DEEPLINK)},e.\u0275fac=function(t){return new(t||e)(S["\u0275\u0275directiveInject"](a.FormBuilder),S["\u0275\u0275directiveInject"](y),S["\u0275\u0275directiveInject"](R),S["\u0275\u0275directiveInject"](i.c),S["\u0275\u0275directiveInject"](i.a),S["\u0275\u0275directiveInject"](s.k),S["\u0275\u0275directiveInject"](r.h),S["\u0275\u0275directiveInject"](N.a),S["\u0275\u0275directiveInject"](s.l),S["\u0275\u0275directiveInject"](s.d),S["\u0275\u0275directiveInject"](F),S["\u0275\u0275directiveInject"](s.i))},e.\u0275cmp=S["\u0275\u0275defineComponent"]({type:e,selectors:[["auth-login"]],hostBindings:function(e,t){1&e&&S["\u0275\u0275listener"]("keydown.enter",function(){return t.onKeydownHandler()},!1,S["\u0275\u0275resolveDocument"])},decls:51,vars:42,consts:[[1,"col-xs-12","block--padding-0","margin-xs-72--bottom"],[1,"direction--row"],[1,"col-md-2","hide--xs","hide--sm"],[1,"col-xs-12","offset-sm-3","col-sm-6","col-md-5","offset-md-0","block--padding-0"],[1,"hero"],[1,"brand-line","text--align-left","margin-xs-18--top"],[1,"col-xs-12","offset-sm-3","col-sm-6","col-md-4","offset-md-0","block--padding-0"],["role","form","novalidate","","autocomplete","off",1,"form",3,"formGroup","submit"],[4,"ngIf"],[1,"form__input","margin-xs-30--top"],["formControlName","firstCredential",3,"ariaDescribedBy","icon","placeholder","autocomplete","error","autofocus","maxlength"],["id","first-credential-input-error"],["type","warning",4,"ngIf"],[1,"margin-xs-24--top","form__password"],["formControlName","secondCredential",3,"autocomplete","ariaDescribedBy","error","icon","placeholder","type","maxlength","customBlur","customFocus","keypress"],[1,"password-validation",3,"ngClass"],[3,"ngClass"],[1,"margin-xs-18--top"],[1,"link","link__text",3,"routerLink"],[1,"margin-xs-36--top"],["formControlName","rememberUser",3,"label"],[1,"margin-xs-24--top"],["width","100%"],["type","icon-spinner","name","spinner","size","18",4,"ngIf"],[1,"text","text--small","label--inline"],[1,"margin-xs-6--top"],[1,"link","link__text",3,"href"],[1,"col-md-1","hide--xs","hide--sm"],[1,"col-md-3","hide--xs","hide--sm","block--padding-0","direction--row","margin-xs-36"],[1,"col-xs-12"],["path","https://cdn.agilitycms.com/scotiabank-colombia/Colpatria/digital/jump/img/oficina.svg",1,"image",3,"setup"],[4,"ngIf","ngIfElse"],["IeBrowserNotification",""],[1,"margin-xs-24--top",3,"type"],[3,"time","timeout"],["type","warning"],["type","icon-spinner","name","spinner","size","18"],[1,"text","text--small","margin-xs-24--top"],[1,"text","text--small","text--bold"],[1,"margin-xs-12--top",3,"innerHTML"],[1,"margin-xs-12--top"],["link","https://www.google.com/intl/es/chrome/"],["link","https://www.mozilla.org/es-ES/firefox/"],["link","https://www.apple.com/co/safari/"]],template:function(e,t){if(1&e&&(S["\u0275\u0275elementStart"](0,"div",0),S["\u0275\u0275elementStart"](1,"div",1),S["\u0275\u0275element"](2,"div",2),S["\u0275\u0275elementStart"](3,"div",3),S["\u0275\u0275elementStart"](4,"h1",4),S["\u0275\u0275text"](5),S["\u0275\u0275elementEnd"](),S["\u0275\u0275element"](6,"hr",5),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](7,"div",1),S["\u0275\u0275element"](8,"div",2),S["\u0275\u0275elementStart"](9,"div",6),S["\u0275\u0275elementStart"](10,"form",7),S["\u0275\u0275listener"]("submit",function(){return t.onSubmit()}),S["\u0275\u0275template"](11,V,8,4,"ng-container",8),S["\u0275\u0275template"](12,H,8,2,"ng-container",8),S["\u0275\u0275elementStart"](13,"div",9),S["\u0275\u0275element"](14,"canvas-input-text",10),S["\u0275\u0275elementStart"](15,"span",11),S["\u0275\u0275template"](16,K,2,1,"canvas-message",12),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](17,"div",13),S["\u0275\u0275elementStart"](18,"canvas-input-text",14),S["\u0275\u0275listener"]("customBlur",function(){return t.setPasswordFocused()})("customFocus",function(){return t.setPasswordFocused()})("keypress",function(e){return t.validateSpecialCharacter(e)}),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](19,"div",15),S["\u0275\u0275elementStart"](20,"span",16),S["\u0275\u0275text"](21),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](22,"span",16),S["\u0275\u0275text"](23),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](24,"span",16),S["\u0275\u0275text"](25),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](26,"span",16),S["\u0275\u0275text"](27),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](28,"div",17),S["\u0275\u0275elementStart"](29,"a",18),S["\u0275\u0275text"](30),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](31,"div",19),S["\u0275\u0275element"](32,"canvas-input-checkbox",20),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](33,"div",21),S["\u0275\u0275elementStart"](34,"canvas-button",22),S["\u0275\u0275template"](35,z,1,0,"canvas-svg",23),S["\u0275\u0275template"](36,W,2,1,"span",8),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](37,"div",19),S["\u0275\u0275elementStart"](38,"p",24),S["\u0275\u0275text"](39),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementStart"](40,"div",25),S["\u0275\u0275elementStart"](41,"a",26),S["\u0275\u0275text"](42),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275element"](43,"div",27),S["\u0275\u0275elementStart"](44,"div",28),S["\u0275\u0275elementStart"](45,"div",29),S["\u0275\u0275element"](46,"canvas-image",30),S["\u0275\u0275template"](47,Y,6,0,"ng-container",31),S["\u0275\u0275template"](48,q,10,4,"ng-template",null,32,S["\u0275\u0275templateRefExtractor"]),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"](),S["\u0275\u0275element"](50,"div",2),S["\u0275\u0275elementEnd"](),S["\u0275\u0275elementEnd"]()),2&e){var n=S["\u0275\u0275reference"](49);S["\u0275\u0275advance"](5),S["\u0275\u0275textInterpolate"](t.LABELS.WELCOME_MESSAGE),S["\u0275\u0275advance"](5),S["\u0275\u0275property"]("formGroup",t.loginForm),S["\u0275\u0275advance"](1),S["\u0275\u0275property"]("ngIf",t.invalidLogin),S["\u0275\u0275advance"](1),S["\u0275\u0275property"]("ngIf",t.errorTime),S["\u0275\u0275advance"](2),S["\u0275\u0275property"]("ariaDescribedBy","first-credential-input-error")("icon","user")("placeholder",t.LABELS.USERNAME)("autocomplete","off")("error",t.validationFirstCredential())("autofocus",!0)("maxlength",t.getUsernameMaxNumberOfChars()),S["\u0275\u0275advance"](2),S["\u0275\u0275property"]("ngIf",t.validationFirstCredential()),S["\u0275\u0275advance"](2),S["\u0275\u0275property"]("autocomplete","off")("ariaDescribedBy","second-credential-input-error")("error",t.isFieldInvalid("secondCredential"))("icon","lock")("placeholder",t.LABELS.PASSWORD)("type","password")("maxlength",t.getPasswordMaxNumberOfChars()),S["\u0275\u0275advance"](1),S["\u0275\u0275property"]("ngClass",S["\u0275\u0275pureFunction1"](39,J,t.passwordFocused||t.isFieldInvalid("secondCredential")||t.validateFirstCredential)),S["\u0275\u0275advance"](1),S["\u0275\u0275property"]("ngClass",t.getClassesForErrorPass().MIN_LENGTH),S["\u0275\u0275advance"](1),S["\u0275\u0275textInterpolate1"](" ",t.LABELS.ERRORS.PASS_USER_INVALID_LENGTH," "),S["\u0275\u0275advance"](1),S["\u0275\u0275property"]("ngClass",t.getClassesForErrorPass().UPPER_CASE),S["\u0275\u0275advance"](1),S["\u0275\u0275textInterpolate1"](" ",t.LABELS.ERRORS.PASS_USER_INVALID_UPPERCASE," "),S["\u0275\u0275advance"](1),S["\u0275\u0275property"]("ngClass",t.getClassesForErrorPass().LOWER_CASE),S["\u0275\u0275advance"](1),S["\u0275\u0275textInterpolate1"](" ",t.LABELS.ERRORS.PASS_USER_INVALID_LOWERCASE," "),S["\u0275\u0275advance"](1),S["\u0275\u0275property"]("ngClass",t.getClassesForErrorPass().NUMBERS),S["\u0275\u0275advance"](1),S["\u0275\u0275textInterpolate1"](" ",t.LABELS.ERRORS.PASS_USER_INVALID_NUMBER," "),S["\u0275\u0275advance"](2),S["\u0275\u0275property"]("routerLink",t.links.helpSignInLink),S["\u0275\u0275advance"](1),S["\u0275\u0275textInterpolate"](t.LABELS.FORGOTTEN_CREDENTIALS),S["\u0275\u0275advance"](2),S["\u0275\u0275property"]("label",t.LABELS.REMEMBER_USERNAME),S["\u0275\u0275advance"](3),S["\u0275\u0275property"]("ngIf",t.isLoading),S["\u0275\u0275advance"](1),S["\u0275\u0275property"]("ngIf",!t.isLoading),S["\u0275\u0275advance"](3),S["\u0275\u0275textInterpolate"](t.LABELS.USER_NOT_REGISTERED),S["\u0275\u0275advance"](2),S["\u0275\u0275property"]("href",t.links.signUpLink,S["\u0275\u0275sanitizeUrl"]),S["\u0275\u0275advance"](1),S["\u0275\u0275textInterpolate"](t.LABELS.REGISTER),S["\u0275\u0275advance"](4),S["\u0275\u0275property"]("setup",S["\u0275\u0275pureFunction0"](41,X)),S["\u0275\u0275advance"](1),S["\u0275\u0275property"]("ngIf",!t.isIE)("ngIfElse",n)}},directives:[a["\u0275angular_packages_forms_forms_y"],a.NgControlStatusGroup,a.FormGroupDirective,r.l,G.z,a.NgControlStatus,a.FormControlName,a.MaxLengthValidator,r.j,i.e,G.t,G.d,G.F,G.B,j,G.E,B],styles:[".color--black[_ngcontent-%COMP%]{color:#000}.action-card-content[_ngcontent-%COMP%]{padding:.6rem}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{min-height:100vh;font-size:65.2%}body[_ngcontent-%COMP%]{font-size:1.6rem}[hidden][_ngcontent-%COMP%]{display:none!important}.container[_ngcontent-%COMP%]{margin:0 36px;max-width:none}.block--center[_ngcontent-%COMP%]{margin:0 auto}.block--padding-0[_ngcontent-%COMP%]{padding:0}.block--height-100[_ngcontent-%COMP%]{height:100%}.block--width-100[_ngcontent-%COMP%]{width:100%}.block--position-fixed[_ngcontent-%COMP%]{position:fixed}.block--left[_ngcontent-%COMP%]{justify-content:left}.text--align-left[_ngcontent-%COMP%]{text-align:left}.hero[_ngcontent-%COMP%]{font-size:2.6rem}@media (min-width:922px){.hero[_ngcontent-%COMP%]{font-size:3.6rem}}.container[_ngcontent-%COMP%]{max-width:1200px}.container--center[_ngcontent-%COMP%]{margin:0 auto}.block--height-100[_ngcontent-%COMP%]{min-height:60rem}[_ngcontent-%COMP%]::-webkit-scrollbar{width:.25rem}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 .02rem #757575;border-radius:2rem}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#757575;border-radius:2rem}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#e2e8ee}  .message__info--user{background-color:#caedff;padding:24px;border-radius:8px}section[_ngcontent-%COMP%]{padding-top:0;display:flex;flex-direction:row;flex:1}.form__password[_ngcontent-%COMP%]{position:relative}.password-validation[_ngcontent-%COMP%]{text-align:left;display:none;justify-content:space-between;width:100%;margin-top:.6rem}.password-validation.visible[_ngcontent-%COMP%]{display:flex}.password-validation[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:.75em;color:#333}.password-validation[_ngcontent-%COMP%]   .lower-case[_ngcontent-%COMP%], .password-validation[_ngcontent-%COMP%]   .min-length[_ngcontent-%COMP%], .password-validation[_ngcontent-%COMP%]   .numbers[_ngcontent-%COMP%], .password-validation[_ngcontent-%COMP%]   .upper-case[_ngcontent-%COMP%]{color:#138468;font-weight:500;font-family:Scotia Bold}.password-validation.special-char[_ngcontent-%COMP%]   .warning[_ngcontent-%COMP%]{color:#be061b}.image[_ngcontent-%COMP%]{height:0}.ie-brower-notification[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-height:210px;justify-content:space-around}",".color--black[_ngcontent-%COMP%]{color:#000}.action-card-content[_ngcontent-%COMP%]{padding:.6rem}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{min-height:100vh;font-size:65.2%}body[_ngcontent-%COMP%]{font-size:1.6rem}[hidden][_ngcontent-%COMP%]{display:none!important}.container[_ngcontent-%COMP%]{margin:0 36px;max-width:none}.block--center[_ngcontent-%COMP%]{margin:0 auto}.block--padding-0[_ngcontent-%COMP%]{padding:0}.block--height-100[_ngcontent-%COMP%]{height:100%}.block--width-100[_ngcontent-%COMP%]{width:100%}.block--position-fixed[_ngcontent-%COMP%]{position:fixed}.block--left[_ngcontent-%COMP%]{justify-content:left}.text--align-left[_ngcontent-%COMP%]{text-align:left}.hero[_ngcontent-%COMP%]{font-size:2.6rem}@media (min-width:922px){.hero[_ngcontent-%COMP%]{font-size:3.6rem}}.container[_ngcontent-%COMP%]{max-width:1200px}.container--center[_ngcontent-%COMP%]{margin:0 auto}.block--height-100[_ngcontent-%COMP%]{min-height:60rem}[_ngcontent-%COMP%]::-webkit-scrollbar{width:.25rem}[_ngcontent-%COMP%]::-webkit-scrollbar-track{box-shadow:inset 0 0 .02rem #757575;border-radius:2rem}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#757575;border-radius:2rem}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#e2e8ee}canvas-message[_ngcontent-%COMP%]{display:block}canvas-co-buddy-tips[_ngcontent-%COMP%]{max-width:27rem}canvas-co-buddy-tips[_ngcontent-%COMP%]   .text--bold[_ngcontent-%COMP%]{display:inline}.buddytip-block[_ngcontent-%COMP%]{display:none}@media (min-width:922px){.buddytip-block[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}}.action__buttons[_ngcontent-%COMP%]{margin-top:3.8rem}.action__buttons[_ngcontent-%COMP%]   canvas-button-navigation[type=continue][_ngcontent-%COMP%]{justify-content:flex-end}.action__buttons[_ngcontent-%COMP%]   canvas-button-navigation[type=back][_ngcontent-%COMP%]{justify-content:flex-start}.action__buttons[_ngcontent-%COMP%]   canvas-button-navigation[type=back][_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}@media (min-width:768px){.action__buttons[_ngcontent-%COMP%]   canvas-button-navigation[type=back][_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}}.loading-block[_ngcontent-%COMP%]{display:flex;align-content:center;justify-content:center;width:10rem;padding-top:10rem;margin:auto}"]}),e}(),Z=function(){function e(e,t){this.router=e,this.sessionStorage=t}return Object.defineProperty(e.prototype,"clientId",{get:function(){return this.sessionStorage.get("passport_client_id")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasAPassportAppRegistered",{get:function(){return!!(this.clientId&&this.clientId.length&&this.redirectUri&&this.redirectUri.length)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"redirectUri",{get:function(){return this.sessionStorage.get(M)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oauthKey",{get:function(){return this.sessionStorage.get(s.h.PROPERTIES.PASSPORT_OAUTH_KEY)},set:function(e){this.sessionStorage.put(s.h.PROPERTIES.PASSPORT_OAUTH_KEY,e)},enumerable:!1,configurable:!0}),e.prototype.buildPassportUrl=function(e,t,n){void 0===n&&(n="code");var r=this.router.createUrlTree(["/"],{queryParams:{response_type:n,client_id:e,redirect_uri:t}}),i=this.router.serializeUrl(r).replace(/^\//,"");return u.a.passportBaseUrl+"/oauth2/v1/authorize"+i},e.\u0275fac=function(t){return new(t||e)(S["\u0275\u0275inject"](i.c),S["\u0275\u0275inject"](s.l))},e.\u0275prov=S["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),$=function(){function e(e,t){this.passportService=e,this.sessionService=t}return e.prototype.canActivate=function(e){var t=this.sessionService.isPassportEnable;return this.oauthKey=e.queryParams.oauth_key,this.oauthKeySignature=e.queryParams.oauth_key_signature,this.isPassportSetted()?!t||this.verifyPassportParamsExpiration()&&this.isPassportUrlValid()?(this.sessionService.removeNotPassportKeysFromSession(),!0):(this.redirectToPassportUrl(),!1):(this.redirectToJumpUrl(),!1)},e.prototype.isPassportUrlValid=function(){return!(!this.oauthKey||!this.oauthKeySignature)},e.prototype.isPassportSetted=function(){return null!==this.sessionService.isPassportEnable},e.prototype.redirectToJumpUrl=function(){s.f.redirect(u.a.baseUrlMicroFront+u.a.microFrontEnds.jump)},e.prototype.redirectToPassportUrl=function(){var e=u.a.passportUrl;this.passportService.hasAPassportAppRegistered&&(e=this.passportService.buildPassportUrl(this.passportService.clientId,this.passportService.redirectUri)),s.f.redirect(e)},e.prototype.saveOauthKey=function(e){this.passportService.oauthKey=e},e.prototype.verifyPassportParamsExpiration=function(){var e=!0;return this.passportService.oauthKey===this.oauthKey&&(e=!1),this.saveOauthKey(this.oauthKey),e},e.\u0275fac=function(t){return new(t||e)(S["\u0275\u0275inject"](Z),S["\u0275\u0275inject"](s.k))},e.\u0275prov=S["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac}),e}(),ee=[{path:"",component:Q,canActivate:[$]}],te=function(){function e(){}return e.\u0275mod=S["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=S["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[$],imports:[[i.f.forChild(ee)],i.f]}),e}(),ne=function(){function e(){}return e.\u0275mod=S["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=S["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[G.s,r.b]]}),e}(),re=function(){function e(){}return e.\u0275mod=S["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=S["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},providers:[y,Z,R],imports:[[r.b,a.ReactiveFormsModule,p.c,te,G.r,G.f,G.g,G.u,G.A,G.C,G.l,G.s,ne]]}),e}()}}]);